#
# in host os
#

# get new box
host-os$ vagrant box add ubuntu1304 http://muratayusuke.com/vagrant/boxes/ubuntu_server_13.04_amd64.box
host-os$ cd ~/projects/chef-repo
host-os$ git pull
host-os$ cd vagrant/ubuntu1304
host-os$ vagrant up
host-os$ vagrant ssh-config --host ubuntu1304 >> ~/.ssh/config
host-os$ cd ../..
host-os$ knife configure
host-os$ vi ~/.chef/knife.rb

# sample knife.rb
log_level                :debug
log_location             STDOUT
node_name                'muratayusuke'
client_key               '/Users/muratayusuke/.chef/muratayusuke.pem'
validation_client_name   'chef-validator'
validation_key           '/etc/chef/validation.pem'
chef_server_url          'http://localhost:4000'
syntax_check_cache_path  '/Users/muratayusuke/.chef/syntax_check_cache'
cookbook_path "site-cookbooks"
role_path "roles"

host-os$ knife solo prepare ubuntu1304
host-os$ knife solo cook ubuntu1304

#
# in guest os
#

# mount shared folder
sudo mkdir /mnt/projects
sudo vi /etc/rc.local
  # add "mount.vboxsf -o rw,exec,uid=1000,gid=1000 projects /mnt/projects"
sudo mount.vboxsf -o rw,exec,uid=1000,gid=1000 projects /mnt/projects

# install ruby
export PATH="$HOME/.rbenv/bin:$PATH"
eval "$(rbenv init -)"
exec $SHELL -l
rbenv install 2.0.0-p247
rbenv global 2.0.0-p247
rbenv rehash
exec $SHELL -l

# ssh key
ssh-keygen
cat ~/.ssh/id_rsa.pub
  # set ssh-key to github, bitbucket and stash

# homesick
gem install homesick
rbenv rehash
homesick clone git@github.com:muratayusuke/dotfiles.git
homesick symlink
  # add proxy to .zshrc if needed
  # example:
  #   export http_proxy="hoge"

# use mozc via i-bus
# change Input Method Switcher in Setting
# start Keyboard Input Method in Setting menu
